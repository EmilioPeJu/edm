$Id$

----------------------------------------------------------------------------
EPICS R3.12 Extensions Notes and Build Instructions.
----------------------------------------------------------------------------

Notes:

1. You must properly set the environemnt variable HOST_ARCH. The
   epics/startup/HostArch script file is provided with EPICS base
   to set HOST_ARCH.
 
2. EPICS base must be configured and built prior to building an
       extension

3. Your epics/config directory must be present and the CONFIG_SITE* files
   properly configured prior to building an extension.

----------------------------------------------------------------------------
     Part 1 - Building EPICS Extensions
----------------------------------------------------------------------------

1.1  To build all extensions present in your epics tree:

     cd epics/extensions
     gmake            - To build and install all extensions.
     gmake clean      - To clean temporary object files.  Clean will
                        remove ALL O.<host_arch> subdirectories.

1.2  To build a single extension (e.g. extension xxx):

     Check the order of the build and extensions dependancies in the
     epics/config/CONFIG_EXTENSIONS file.

     cd epics/extensions/src/xxx

     gmake            - To build and install the xxx extension.
     gmake install    - To build and install the xxx extension.
     gmake clean      - To clean temporary object files.  Clean will
                        remove ALL O.<host_arch> subdirectoriess.
     gmake build      - To build the extension.
     gmake depends    - To generate the .DEPENDS dependencies file.

1.3  To create an extension tar file
     These Tar files will be created in the directory ABOVE extensions.
     and are then meant to be untarred at that level.
     They do NOT include the "epics/config" directory.

     cd epics/extensions
     gmake tar.xxx    - Will create an ../xxx.Tar file containing the xxx 
                        extension
     gmake tar        - Will create an ../extension.Tar file containing all
                        extensions in your extensions tree.

1.4  "Partial" build commands:

     gmake clean.sun4        - Cleans sun4 binaries in O.sun4 dirs only
                               (all extensions)..
     gmake install.sun4      - Builds sun4 only (all extensions).
     gmake install.mv167     - Builds mv167 only (all extensions).



NOTES:
     1. Binaries are installed into the extensions/bin/<host_arch> and 
        extensions/lib/<host_arch> directories. 

     3. During a normal build (a "gmake" or "gmake install"), the "depends"
        dependency file will NOT be created.  Only if "gmake depends" is run
        explicitly will dependency files be generated.
     
     4. Temporary objects are stored in src/xxx/O.<host_arch>, This allows
	objects for multiple host architectures to be maintained in the same
	tree structure at the same time. While developing source for a
	specific source file, merely cd src/DIR/O.<host_arch> directory, and
	invoke "gmake <target filename>" e.g.
        	cd epics/extensions/src/alh/O.sun4
        	gmake alh.o

        The above example instructs make to build alh.o.

